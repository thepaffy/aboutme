(function(){$document=$(document);$document.ready(function(){function p(){var a=Math.floor(10*Math.random()),c=Math.floor(10*Math.random());r=parseInt(c)+parseInt(a);y.text(a+" + "+c+" = ?")}function t(){p();d.removeClass("fa fa-spinner fa-pulse");d.addClass("fa fa-paper-plane");m.on("click",e);n.show();$document.on("keyup",b);f.on("click",b);z.slideDown(200).delay(3E3).slideUp(200)}function A(a){!0===jQuery.parseJSON(a).success?(b(),B.slideDown(200).delay(3E3).slideUp(200)):t()}function e(){var a=
!1,c=u.val();""===c?(g.text("Your message is required!"),g.slideDown(200).delay(3E3).slideUp(200),a=!0):1E3<=c.length&&(g.text("Your message is too long! +"+(c.length-1E3)),g.slideDown(200).delay(3E3).slideUp(200),a=!0);var b=v.val();""===b?(h.text("Your E-Mail is required!"),h.slideDown(200).delay(3E3).slideUp(200),a=!0):!1===/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(b)&&(h.text("No valid E-Mail address!"),h.slideDown(200).delay(3E3).slideUp(200),a=
!0);var e=w.val();""===e&&(q.text("Your name is required!"),q.slideDown(200).delay(3E3).slideUp(200),a=!0);var l=x.val();""===l?(k.text("Captcha result is required!"),k.slideDown(200).delay(3E3).slideUp(200),a=!0):r!==parseInt(l)&&(k.text("Captcha result wrong!"),k.slideDown(200).delay(3E3).slideUp(200),a=!0);!0===a?p():(a={name:e,mail:b,message:c},m.off("click"),f.off("click"),$document.off("keyup"),n.hide(),d.removeClass("fa fa-paper-plane"),d.addClass("fa fa-spinner fa-pulse"),$.post("cgi/sendmail.php",
a,A).fail(t))}function b(){d.removeClass("fa fa-spinner fa-pulse");d.addClass("fa fa-paper-plane");$document.off("keyup");n.show();l.hide();f.hide();g.text("");h.text("");q.text("");k.text("");u.val("");v.val("");w.val("");x.val("")}var r=8,n=$("#cancelButton"),x=$("#captcha"),y=$("#captchaFunction"),v=$("#email"),k=$("#errorCaptcha"),g=$("#errorMessage"),h=$("#errorEmail"),q=$("#errorName"),C=$("#mailButton"),l=$("#mailWrapper"),z=$("#errorMailWrapper"),u=$("#message"),w=$("#name"),f=$(".overlay"),
m=$("#sendButton"),d=m.children("i"),B=$("#successMail");C.on("click",function(){n.on("click",function(){b()});m.on("click",e);f.on("click",b);f.show();l.show();p();$document.on("keyup",function(a){27===a.keyCode&&b()})})})})();
